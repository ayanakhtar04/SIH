:root {
  --background-color: #1A1A1A;
  --surface-color: #2C2C2C;
  --text-primary: #E0E0E0;
  --text-secondary: #AAAAAA;
  --accent-color: #B85C4F;
  --border-color: #444444;

  --bg: #1A1A1A;
  --text: #E0E0E0;
  --muted: #AAAAAA;
  --primary: #B85C4F;

  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: dark;
  color: var(--text-primary);
  background-color: var(--background-color);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #B85C4F;
  text-decoration: inherit;
}
a:hover {
  color: #D07A6E;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: var(--background-color);
  color: var(--text-primary);
  transition: background-color 420ms cubic-bezier(.4,0,.2,1), color 420ms cubic-bezier(.4,0,.2,1);
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: var(--accent-color);
  color: var(--text-primary);
  cursor: pointer;
  transition: filter 0.2s ease, border-color 0.25s;
}
button:hover { filter: brightness(0.95); }
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

/* Smooth color transitions for MUI containers */
.MuiPaper-root, .MuiAppBar-root, .MuiButton-root, .MuiChip-root, .MuiToolbar-root {
  transition: background-color 360ms ease, color 360ms ease, border-color 360ms ease, box-shadow 360ms ease;
}

/* Staggered diagonal wave: delay is injected per element */
.pk-wave-anim {
  animation: pk-color-wave 680ms cubic-bezier(.4,0,.2,1) both;
  animation-delay: var(--pk-wave-delay, 0ms);
}
@keyframes pk-color-wave {
  0% { filter: brightness(0.92) saturate(0.9); }
  35% { filter: brightness(1.02) saturate(1.05); }
  70% { filter: brightness(1.0) saturate(1.0); }
  100% { filter: none; }
}

/* Animated gradient diagonal theme wipe */
 .theme-wipe-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 5000;
  --wipe-from-color: rgba(255,255,255,0.55);
  --wipe-to-color: rgba(26,26,26,0.55);
  --wipe-accent: rgba(184,92,79,0.45);
  background: linear-gradient(135deg,var(--wipe-from-color) 0%, var(--wipe-accent) 35%, var(--wipe-to-color) 100%);
  background-size: 180% 180%;
  animation: wipe-gradient-shift 1200ms ease both;
  clip-path: polygon(0 0, 0 0, 0 0, 0 0);
  transition: clip-path 720ms cubic-bezier(.65,.05,.36,1);
  filter: saturate(1.06) brightness(1.03);
}
 .theme-wipe-overlay[data-from='dark'] { --wipe-from-color: rgba(26,26,26,0.55); --wipe-to-color: rgba(247,247,245,0.55); --wipe-accent: rgba(46,125,50,0.45); }
 .theme-wipe-overlay[data-from='light'] { --wipe-from-color: rgba(247,247,245,0.55); --wipe-to-color: rgba(26,26,26,0.55); --wipe-accent: rgba(184,92,79,0.45); }

/* Legacy wipe kept for fallback (not used now) */
.theme-wipe-overlay.animate { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
.theme-wipe-overlay.fade-out { opacity: 0; transition: opacity 400ms ease; }

@keyframes wipe-gradient-shift {
  0% { background-position: 10% 15%; opacity: 1; }
  40% { background-position: 55% 65%; opacity: 0.85; }
  100% { background-position: 90% 95%; opacity: 0; }
}

/* New radial ripple theme transition */
.pk-theme-ripple {
  position: fixed;
  top: 0; left:0; right:0; bottom:0;
  pointer-events: none;
  z-index: 4000;
  --pk-ripple-x: 50%;
  --pk-ripple-y: 50%;
  --pk-ripple-radius: 0px;
  background: radial-gradient(circle at var(--pk-ripple-x) var(--pk-ripple-y), rgba(255,255,255,0.6) 0%, rgba(255,255,255,0.15) 30%, transparent 70%);
  mix-blend-mode: overlay;
  opacity: 0.8;
  transform: scale(0);
  transition: transform 700ms cubic-bezier(.34,.07,.19,.97), opacity 540ms ease;
}
.pk-theme-ripple[data-from='dark'] { background: radial-gradient(circle at var(--pk-ripple-x) var(--pk-ripple-y), rgba(0,0,0,0.55) 0%, rgba(0,0,0,0.30) 35%, transparent 70%); }
.pk-theme-ripple.animate { transform: scale(calc(var(--pk-ripple-radius) / 160)); }
.pk-theme-ripple.fade { opacity:0; }

/* Surface subtle fade/scale */
.pk-surface-transition { animation: pk-surface-fade 560ms cubic-bezier(.4,0,.2,1) both; animation-delay: var(--pk-surface-delay,0ms); }
@keyframes pk-surface-fade { 0% { opacity:0; transform: translateY(6px) scale(.985); } 55% { opacity:1; } 100% { opacity:1; transform: none; } }

/* Page switch animations */
.pk-page-container { position: relative; }
.pk-page-fade-enter { opacity:0; transform: translateY(6px); }
.pk-page-fade-enter-active { opacity:1; transform:none; transition: opacity 300ms ease, transform 300ms ease; }
.pk-page-fade-exit { opacity:1; }
.pk-page-fade-exit-active { opacity:0; transform: translateY(-4px); transition: opacity 240ms ease, transform 240ms ease; }

/* Advanced Page Transition Variants */
/* Slide variant (horizontal) */
.pk-page-slide-enter { opacity:0; transform: translateX(var(--pk-dir, 12px)); }
.pk-page-slide-enter-active { opacity:1; transform: translateX(0); transition: opacity 340ms cubic-bezier(.4,0,.2,1), transform 520ms cubic-bezier(.25,.8,.25,1); }
.pk-page-slide-exit { opacity:1; transform: translateX(0); }
.pk-page-slide-exit-active { opacity:0; transform: translateX(calc(var(--pk-dir, 12px) * -0.65)); transition: opacity 260ms cubic-bezier(.4,0,.2,1), transform 380ms cubic-bezier(.4,0,.2,1); }

/* Scale (zoom subtle) */
.pk-page-scale-enter { opacity:0; transform: scale(.985) translateY(8px); }
.pk-page-scale-enter-active { opacity:1; transform: none; transition: opacity 300ms ease, transform 500ms cubic-bezier(.25,.8,.25,1); }
.pk-page-scale-exit { opacity:1; }
.pk-page-scale-exit-active { opacity:0; transform: scale(.995) translateY(-6px); transition: opacity 240ms ease, transform 360ms cubic-bezier(.4,0,.2,1); }

/* Stack (old page shrinks back) */
.pk-page-stack-enter { opacity:0; transform: translateY(10px); }
.pk-page-stack-enter-active { opacity:1; transform:none; transition: opacity 340ms ease, transform 420ms cubic-bezier(.4,0,.2,1); }
.pk-page-stack-exit { opacity:1; transform:none; }
.pk-page-stack-exit-active { opacity:0; transform: scale(.975) translateY(-4px); transition: opacity 250ms ease, transform 400ms cubic-bezier(.4,0,.2,1); filter: blur(.3px); }

/* Reduced motion fallback will already nuke transitions */

@media (prefers-reduced-motion: reduce) {
  .pk-theme-ripple, .pk-surface-transition, .pk-page-fade-enter, .pk-page-fade-enter-active, .pk-page-fade-exit-active { animation:none !important; transition:none !important; transform:none !important; }
}